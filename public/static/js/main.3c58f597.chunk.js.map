{"version":3,"sources":["images/Catwalk.png","images/GiantsLadder.png","images/Zipline.png","images/complete.png","images/incomplete.png","images/not started.png","queries/queries.ts","components/dashboard.tsx","containers/admin.tsx","components/elementCard.tsx","containers/elementList.tsx","components/inspections/section.tsx","components/inspections/setup.tsx","components/inspections/takedown.tsx","queries/inspections.ts","containers/inspections/preuseForm.tsx","containers/inspections/preuseInspectionContainer.tsx","containers/inspections/periodicForm.tsx","containers/inspections/periodicInspectionContainer.tsx","components/header.tsx","containers/home.tsx","containers/sessions/login.tsx","App.tsx","constants.js","serviceWorker.ts","index.tsx","images sync /^/.//.*/.png$","images/logo.png","images/AlutianMaidenhairFern.JPG","images/HappyCreek.JPG","images/ThunderCreek.JPG"],"names":["module","exports","getElementsQuery","gql","signInMutation","siteStatusQuery","Dashboard","state","lastUpdated","Date","now","toLocaleTimeString","hour","minute","date","setDate","refetch","setState","renderInspectionTable","elements","map","elem","i","className","key","name","src","require","setup","alt","takedown","to","id","formattedDate","this","getDate","getMonth","getFullYear","query","pollInterval","variables","loading","data","selected","onChange","site","status","time","trim","Component","AdminContainer","path","component","withRouter","location","pathname","style","textDecoration","replace","ElementList","renderElements","Section","title","complete","commentsAttributes","newComment","instructions","handleChange","inspection","split","line","type","checked","data-inspection","viewBox","d","transform","htmlFor","sortedComments","sort","a","b","length","comment","user","fullname","content","value","placeholder","renderComments","Setup","renderSections","props","elementInstructions","sectionsAttributes","find","s","newComments","Element","equipmentInstructions","Equipment","environmentInstructions","Environment","renderUpdatedBy","users","Takedown","renderClimbs","climbsAttributes","climb","rope","identifier","block1","data-climbid","block2","block3","block4","getPreuseInspectionQuery","getPeriodicInspectionQuery","savePeriodicMutation","savePreuseMutation","PreuseForm","elementId","parseInt","match","params","element_id","alertMessage","message","changed","setupAttributes","undefined","takedownAttributes","resetTextboxes","event","target","attributes","climbId","getAttribute","c","Object","assign","newAttrs","handleDateChange","gatherDataFromState","JSON","parse","stringify","forEach","section","climbsReduced","insp","sectionTitle","push","handleSubmit","preventDefault","then","savePreuse","errors","preuseInspection","history","renderAlert","alerts","keys","msg","queryCompleted","resp","updateStateFromQuery","setupEquipmentInstructions","setupElementInstructions","setupEnvironmentInstructions","takedownEquipmentInstructions","takedownElementInstructions","takedownEnvironmentInstructions","Fragment","fetchPolicy","onCompleted","element","onError","error","console","log","mutation","onSubmit","e","disabled","PreuseInspectionContainer","PeriodicForm","matchedComment","saveInspection","savePeriodic","periodicInspection","elementSection","equipmentSection","environmentSection","periodicEquipmentInstructions","periodicElementInstructions","periodicEnvironmentInstructions","PeriodicInspectionContainer","Header","showAdminTools","handleHover","handleLeave","adminTools","onMouseEnter","onMouseLeave","activeClassName","transitionName","transitionEnterTimeout","transitionLeaveTimeout","onClick","handleLogout","React","Submenu","Home","backgroundImage","prevProps","assignBackgroundImage","includes","endsWith","images","Login","currentTarget","prevState","handleSignIn","signInUser","email","password","remember","handleLogin","token","handleErrors","useDemo","compose","graphql","App","loggedIn","userToken","localStorage","setItem","loginStatus","getItem","removeItem","Boolean","window","hostname","link","createHttpLink","uri","credentials","client","ApolloClient","cache","InMemoryCache","addTypename","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","webpackContext","req","webpackContextResolve","__webpack_require__","o","Error","code","resolve"],"mappings":"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","file":"static/js/main.3c58f597.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/Catwalk.3f9c851c.png\";","module.exports = __webpack_public_path__ + \"static/media/GiantsLadder.7201212a.png\";","module.exports = __webpack_public_path__ + \"static/media/Zipline.9ad18af5.png\";","module.exports = __webpack_public_path__ + \"static/media/complete.4ffd2994.png\";","module.exports = __webpack_public_path__ + \"static/media/incomplete.534ae346.png\";","module.exports = \"data:image/png;base64,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\"","import gql from \"graphql-tag\";\n\nconst getElementsQuery = gql`\n  query {\n    elements{\n      id\n      name\n    }\n  }\n`\n\nconst signInMutation = gql`\n  mutation($email: String!, $password: String!) {\n    signInUser(email:$email, password: $password){\n      token\n      user {\n        id\n        fullname\n      }\n    }\n  }\n`\n\nconst siteStatusQuery = gql`\n  query($date: String!) {\n    site {\n      time\n      status(date: $date) {\n        id\n        name\n        setup\n        takedown\n      }\n    }\n  }\n`\n\nexport { getElementsQuery, signInMutation, siteStatusQuery }","import React, {Component} from 'react';\nimport \"../stylesheets/dashboard.scss\";\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport { siteStatusQuery } from '../queries/queries';\nimport { Query } from 'react-apollo';\nimport DatePicker from 'react-datepicker';\nimport { NavLink } from 'react-router-dom';\n\ninterface State {\n  date: Date;\n  lastUpdated: string;\n}\n\ninterface Element {\n  id: number;\n  name: string;\n  setup: string;\n  takedown: string;\n}\n\nclass Dashboard extends Component<{}, State> {\n  state = {\n    lastUpdated: new Date(Date.now()).toLocaleTimeString(\"es-US\", {\n      hour: \"numeric\",\n      minute: \"numeric\"\n    }),\n    date: new Date()\n  }\n\n  setDate = (date: Date, refetch: any) => {\n    this.setState({\n      date: date\n    });\n    refetch();\n  }\n\n  renderInspectionTable = (elements: Element[]) => {\n    return elements.map((elem: Element, i: number) => {\n      return <div className=\"table-row\" key={i}>\n        <div className=\"td\">{elem.name}</div>\n        <div className=\"td\"><img src={require(`../images/${elem.setup}.png`)} className=\"statusIcon\" alt={elem.setup} /></div>\n        <div className=\"td\"><img src={require(`../images/${elem.takedown}.png`)} className=\"statusIcon\" alt={elem.takedown} /></div>\n        <div className=\"td\"><NavLink to={`/admin/elements/${elem.id}`}>View Element</NavLink></div>\n      </div>\n    })\n  }\n\n  render(){\n    const formattedDate: string = this.state.date.getDate()  + \"/\" + (this.state.date.getMonth()+1) + \"/\" + this.state.date.getFullYear();\n    \n    return (\n      <Query\n        query={siteStatusQuery}\n        pollInterval={60000}\n        variables={{date: formattedDate}}>\n        {({loading, data, refetch}: any) => {\n          if (loading) return null;\n          \n          return <div className=\"dashboard\">\n            <DatePicker selected={this.state.date} onChange={(date: Date) => this.setDate(date, refetch)} />\n            <div className=\"table\">\n              <div className=\"table-head\">\n                <div className=\"th\">Element</div>\n                <div className=\"th\">Setup</div>\n                <div className=\"th\">Takedown</div>\n                <div className=\"th\"></div>\n              </div>\n              <div className=\"table-body\">\n                {typeof(data) === \"undefined\" ? null : this.renderInspectionTable(data.site.status)}\n              </div>\n            </div>\n            <div className=\"last-updated\">Last updated: {typeof(data) === \"undefined\" ? null : data.site.time.trim()}</div>\n          </div>\n          }\n        }\n      </Query>\n    )\n  }\n}\n\nexport default Dashboard;","import React, {Component} from 'react';\nimport { Switch, Route } from 'react-router-dom';\nimport Dashboard from '../components/dashboard';\n\n\nclass AdminContainer extends Component {\n  render() {\n    return (\n      <Switch>\n        <Route path=\"/admin/dashboard\"\n          component={Dashboard}\n        />\n        <Route path=\"/admin/elements\"\n          component={Dashboard}\n        />\n        <Route path=\"/admin/users\"\n          component={Dashboard}\n        />\n      </Switch>\n    )\n  }\n}\n\nexport default AdminContainer;","import React from 'react';\nimport {Link, withRouter, RouteComponentProps} from 'react-router-dom';\n\ninterface Props extends RouteComponentProps {\n  data: {\n    name: string,\n    id: number\n  };\n}\n\nconst ElementCard = ({data: {name, id}, location}: Props) => {\n  return (\n    <Link to={location.pathname + `/elements/${id}/new`} style={{textDecoration: 'none'}}>\n      <div className=\"element-card\">\n        <h1>{name}</h1>\n        \n        <img src={require(`../images/${name.replace(/[^0-9a-z]/gi, \"\")}.png`)} alt={`${name}`} />\n      </div>\n    </Link>\n  )\n}\n\nexport default withRouter(ElementCard);","import React, {Component} from 'react';\r\nimport \"../stylesheets/elements.scss\";\r\nimport ElementCard from '../components/elementCard';\r\nimport { Query } from 'react-apollo';\r\nimport { getElementsQuery } from '../queries/queries';\r\nimport { RouteComponentProps } from 'react-router';\r\n\r\ninterface Element {\r\n  name: string,\r\n  id: number\r\n}\r\n\r\ninterface Response {\r\n  loading: boolean;\r\n  data: {elements: Element[]}\r\n}\r\n\r\nclass ElementList extends Component<RouteComponentProps> {\r\n  renderElements= (data: {elements: Element[]}) => {\r\n    return data.elements.map(elem => {\r\n      return <ElementCard data={elem} key={elem.id} />;\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Query\r\n        query={getElementsQuery}>\r\n        {({loading, data}: Response) => {\r\n          if (loading) return null;\r\n          \r\n          return <div className=\"elements\" id=\"elements-list\">\r\n            {this.renderElements(data)}\r\n          </div>\r\n\r\n        }}\r\n      </Query>\r\n    )\r\n  }\r\n}\r\n\r\nexport default ElementList;","import React from 'react';\n\ninterface Props {\n  data: {\n    id: number,\n    title: string,\n    complete: boolean,\n    commentsAttributes: {\n      id: number,\n      content: string,\n      user: {\n        fullname: string\n      }\n    }[]\n  },\n  newComment: string,\n  instructions: string,\n  handleChange: (e: any) => void,\n  inspection?: any\n} // TODO: fix the typing above\n\nconst Section = ({data: {id, title, complete, commentsAttributes}, newComment, instructions, handleChange, inspection}: Props) => {\n\n  function renderComments() {\n    const sortedComments = commentsAttributes.sort((a,b) => a.id - b.id)\n    return (\n      <div className={\n          `comments collapsible \n          ${complete && sortedComments.length === 0 && newComment === \"\" ? \"hidden\":\"\"}`}>\n        <h3>Comments:</h3>\n        {sortedComments.map((comment, i) =>{\n          return (\n            <div className=\"comment\" key={i}>\n              <strong>{comment.user.fullname}: </strong>{comment.content}\n            </div>\n          )\n        })}\n        <input type=\"textarea\" name={title} value={newComment} onChange={handleChange} data-inspection={inspection} className={`collapsible ${complete && newComment === \"\" ? \"hidden\":\"\"}`} placeholder=\"New comment\" />\n      </div>\n    )\n  }\n  \n  return(\n    <div className={`form-group ${complete ? \"complete\":\"incomplete\"}`} id={`section-${id}`} >\n      <h2>{title}</h2>\n      <div className={`collapsible ${complete ? \"hidden\":\"\"}`} >\n        <div className=\"instructions-text\">\n          <ul>\n            {instructions.split('\\n').map((line, i) => {\n              return <li key={i}>{line}</li>\n            })}\n          </ul>\n        </div>\n\n      </div>\n      <div className=\"form-check completed-group\">\n        <label className=\"toggleButton\">\n          <input type=\"checkbox\" checked={complete} onChange={handleChange} name={title} data-inspection={inspection} />\n          <div>\n            <svg viewBox=\"0 0 44 44\">\n                <path d=\"M14,24 L21,31 L39.7428882,11.5937758 C35.2809627,6.53125861 30.0333333,4 24,4 C12.95,4 4,12.95 4,24 C4,35.05 12.95,44 24,44 C35.05,44 44,35.05 44,24 C44,19.3 42.5809627,15.1645919 39.7428882,11.5937758\" transform=\"translate(-2.000000, -2.000000)\"></path>\n            </svg>\n          </div>\n        </label>\n        <label htmlFor={title} className={`collapsible ${complete ? \"hidden\":\"\"}`}>Section Completed?</label>\n      </div>\n\n      {renderComments()}\n    </div>\n  )\n}\n\nexport default Section;","import React, {Component} from 'react';\nimport Section from './section';\n\ninterface Props{\n  instructions: any,\n  data: any,\n  handleChange: (e: any) => void,\n  newComments: {\n    Element: {content: string},\n    Equipment: {content: string},\n    Environment: {content: string}\n  },\n  renderUpdatedBy: (users: User[]) => React.ReactNode\n} // TODO: fix the typing of handleChange\n\ninterface User {\n  fullname: string\n}\n\nclass Setup extends Component<Props> {\n  renderSections = () => {\n    return <>\n      <Section {...this.props}\n        instructions={this.props.instructions.elementInstructions}\n        data={this.props.data.sectionsAttributes.find((s: {title: string}) => s.title === \"Element\")}\n        handleChange={this.props.handleChange}\n        newComment={this.props.newComments.Element.content}\n        inspection=\"setup\" />\n      <Section {...this.props}\n        instructions={this.props.instructions.equipmentInstructions}\n        data={this.props.data.sectionsAttributes.find((s: {title: string}) => s.title === \"Equipment\")}\n        handleChange={this.props.handleChange}\n        newComment={this.props.newComments.Equipment.content}\n        inspection=\"setup\" />\n      <Section {...this.props}\n        instructions={this.props.instructions.environmentInstructions}\n        data={this.props.data.sectionsAttributes.find((s: {title: string}) => s.title === \"Environment\")}\n        handleChange={this.props.handleChange}\n        newComment={this.props.newComments.Environment.content}\n        inspection=\"setup\" />\n    </>\n  }\n\n  render(){\n    return (\n      <div id=\"setup-form\">\n        <h1>Setup</h1>\n        {this.renderSections()}\n\n        {this.props.renderUpdatedBy(this.props.data.users)}\n      </div>\n    )\n  }\n}\n\nexport default Setup;","import React, {Component} from 'react';\nimport Section from '../../components/inspections/section';\n\ninterface Props{\n  instructions: any;\n  data: any;\n  handleChange: (e: any) => void;\n  newComments: {\n    Element: {content: string},\n    Equipment: {content: string},\n    Environment: {content: string}\n  };\n  renderUpdatedBy: (users: User[]) => React.ReactNode\n} // TODO: fix the typing of handleChange\n\ninterface User {\n  fullname: string\n}\n\ninterface Climb {\n  id: number;\n  rope: {identifier: string};\n  block1: number;\n  block2: number;\n  block3: number;\n  block4: number;\n}\n\nclass Takedown extends Component<Props> {\n  renderSections = () => {\n    return <>\n      <Section {...this.props}\n        instructions={this.props.instructions.elementInstructions}\n        data={this.props.data.sectionsAttributes.find((s: {title: string}) => s.title === \"Element\")}\n        handleChange={this.props.handleChange}\n        newComment={this.props.newComments.Element.content}\n        inspection=\"takedown\" />\n      <Section {...this.props}\n        instructions={this.props.instructions.equipmentInstructions}\n        data={this.props.data.sectionsAttributes.find((s: {title: string}) => s.title === \"Equipment\")}\n        handleChange={this.props.handleChange}\n        newComment={this.props.newComments.Equipment.content}\n        inspection=\"takedown\" />\n      <Section {...this.props}\n        instructions={this.props.instructions.environmentInstructions}\n        data={this.props.data.sectionsAttributes.find((s: {title: string}) => s.title === \"Environment\")}\n        handleChange={this.props.handleChange}\n        newComment={this.props.newComments.Environment.content}\n        inspection=\"takedown\" />\n    </>\n  }\n\n  renderClimbs = () => {\n    return <div className=\"climb-blocks form-group\">\n      <table>\n        <thead><tr>\n          <th>Rope</th>\n          <th>Block 1</th>\n          <th>Block 2</th>\n          <th>Block 3</th>\n          <th>Block 4</th>\n        </tr></thead>\n        <tbody>\n          {this.props.data.climbsAttributes.map((climb: Climb, i: number) =>{\n          return <tr key ={i}>\n            <td>{climb.rope.identifier}</td>\n            <td>\n              <input type=\"number\"\n              value={climb.block1 ? climb.block1 : \"\"}\n              name=\"block1\"\n              data-climbid={climb.id}\n              onChange={this.props.handleChange} />\n            </td>\n            <td>\n              <input type=\"number\"\n              value={climb.block2 ? climb.block2 : \"\"}\n              name=\"block2\"\n              data-climbid={climb.id}\n              onChange={this.props.handleChange} />\n            </td>\n            <td>\n              <input type=\"number\"\n              value={climb.block3 ? climb.block3 : \"\"}\n              name=\"block3\"\n              data-climbid={climb.id}\n              onChange={this.props.handleChange} />\n            </td>\n            <td>\n              <input type=\"number\"\n              value={climb.block4 ? climb.block4 : \"\"}\n              name=\"block4\"\n              data-climbid={climb.id}\n              onChange={this.props.handleChange} />\n            </td>\n          </tr>\n        })}\n        </tbody>\n      </table>\n    </div>\n  }\n\n  render(){\n    return (\n      <div id=\"takedown-form\">\n        <h1>Takedown</h1>\n        {this.renderClimbs()}\n\n        {this.renderSections()}\n\n        {this.props.renderUpdatedBy(this.props.data.users)}\n      </div>\n    )\n  }\n}\n\nexport default Takedown;","import gql from \"graphql-tag\";\n\nconst getPreuseInspectionQuery = gql`\nquery($elementId: Int!, $date: String!) {\n  element(id:$elementId) {\n    id\n    setupElementInstructions\n    setupEquipmentInstructions\n    setupEnvironmentInstructions\n    takedownElementInstructions\n    takedownEquipmentInstructions\n    takedownEnvironmentInstructions\n    preuseInspection(date:$date) {\n      id\n      setupAttributes: setup{\n        id\n        users {\n          fullname\n        }\n        isComplete\n        sectionsAttributes: sections{\n          id\n          title\n          complete\n          commentsAttributes: comments {\n            id\n            content\n            user {\n              fullname\n            }\n          }\n        }\n      }\n      takedownAttributes: takedown{\n        id\n        users {\n          fullname\n        }\n        climbsAttributes: climbs {\n          id\n          block1\n          block2\n          block3\n          block4\n          rope {\n            id\n            identifier\n          }\n        }\n        sectionsAttributes: sections{\n          id\n          title\n          complete\n          commentsAttributes: comments {\n            id\n            content\n            user {\n              fullname\n            }\n          }\n        }\n      }\n    }\n  }\n}\n`\n\nconst getPeriodicInspectionQuery = gql`\nquery($elementId: Int!, $date: String!) {\n  element(id:$elementId) {\n    id\n    periodicElementInstructions\n    periodicEquipmentInstructions\n    periodicEnvironmentInstructions\n    periodicInspection(date:$date){\n      id\n      users {\n        fullname\n      }\n      sectionsAttributes: sections{\n        id\n        title\n        complete\n        commentsAttributes: comments {\n          id\n          content\n          user {\n            fullname\n          }\n        }\n      }\n    }\n  }\n}\n`\n\nconst savePeriodicMutation = gql`\nmutation($data: PeriodicInput!) {\n  savePeriodic(data: $data){\n    status\n    errors\n    periodicInspection{\n      id\n      users {\n        fullname\n      }\n      sectionsAttributes: sections{\n        id\n        title\n        complete\n        commentsAttributes: comments {\n          id\n          content\n          user {\n            fullname\n          }\n        }\n      }\n    }\n  }\n}\n`\n\nconst savePreuseMutation = gql`\nmutation($data: PreuseInput!) {\n  savePreuse(data: $data){\n    status\n    errors\n    preuseInspection {\n      id\n      setupAttributes: setup{\n        id\n        users {\n          fullname\n        }\n        isComplete\n        sectionsAttributes: sections{\n          id\n          title\n          complete\n          commentsAttributes: comments {\n            id\n            content\n            user {\n              fullname\n            }\n          }\n        }\n      }\n      takedownAttributes: takedown{\n        id\n        users {\n          fullname\n        }\n        climbsAttributes: climbs {\n          id\n          block1\n          block2\n          block3\n          block4\n          rope {\n            id\n            identifier\n          }\n        }\n        sectionsAttributes: sections{\n          id\n          title\n          complete\n          commentsAttributes: comments {\n            id\n            content\n            user {\n              fullname\n            }\n          }\n        }\n      }\n    }\n  }\n}\n`\n\nexport { getPreuseInspectionQuery, getPeriodicInspectionQuery, savePeriodicMutation, savePreuseMutation }","import React, {Component} from 'react';\nimport '../../stylesheets/preuse_inspections.scss';\nimport '../../stylesheets/inspection_forms.scss';\nimport Setup from '../../components/inspections/setup';\nimport Takedown from '../../components/inspections/takedown';\nimport DatePicker from 'react-datepicker';\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport { Query, Mutation } from 'react-apollo';\nimport { getPreuseInspectionQuery, savePreuseMutation } from '../../queries/inspections';\nimport { RouteComponentProps } from 'react-router';\n\ninterface State {\n  id: number | null,\n  date: Date,\n  instructions: {\n    setup: {\n      equipmentInstructions: string,\n      elementInstructions: string,\n      environmentInstructions: string,\n    },\n    takedown: {\n      equipmentInstructions: string,\n      elementInstructions: string,\n      environmentInstructions: string,\n    }\n  },\n  elementId: number,\n  newComments: {\n    setup:{\n      Equipment: {content: string},\n      Element: {content: string},\n      Environment: {content: string}\n    },\n    takedown:{\n      Equipment: {content: string},\n      Element: {content: string},\n      Environment: {content: string}\n    }\n  },\n  setupAttributes: SetupAttributes | undefined,\n  takedownAttributes: TakedownAttributes | undefined,\n  alertMessage: {message: string[], type: string},\n  changed: boolean\n}\n\ninterface QueryResponse {\n  id: number,\n  setupEquipmentInstructions: string,\n  setupElementInstructions: string,\n  setupEnvironmentInstructions: string,\n  takedownEquipmentInstructions: string,\n  takedownElementInstructions: string,\n  takedownEnvironmentInstructions: string,\n  preuseInspection: {\n    id: number\n    setupAttributes: SetupAttributes,\n    takedownAttributes: TakedownAttributes\n  }\n}\n\ninterface MutationResponse {\n  data: {\n    savePreuse: {\n      status: string,\n      errors: string[],\n      preuseInspection: {\n        id: number\n        setupAttributes: SetupAttributes,\n        takedownAttributes: TakedownAttributes\n      }\n    }\n  }\n}\n\ninterface MatchParams {\n  element_id: string\n}\n\ninterface SetupAttributes {\n  id: number,\n  sectionsAttributes: Section[]\n}\n\ninterface TakedownAttributes {\n  id: number,\n  sectionsAttributes: Section[]\n  climbsAttributes: Climb[]\n}\n\ninterface Section {\n  id: number,\n  title: string,\n  complete: boolean,\n  commentsAttributes: {\n    id: number,\n    content: string,\n    user: {\n      fullname: string;\n    }\n  }[]\n}\n\ninterface Climb {\n  id: number;\n  rope: {identifier: string};\n  block1: number;\n  block2: number;\n  block3: number;\n  block4: number;\n}\n\ninterface User {\n  fullname: string\n}\n\nclass PreuseForm extends Component<RouteComponentProps<MatchParams>, State> {\n  state = {\n    id: null,\n    date: new Date(),\n    instructions: {\n      setup: {\n        equipmentInstructions: \"\",\n        elementInstructions: \"\",\n        environmentInstructions: \"\",\n      },\n      takedown: {\n        equipmentInstructions: \"\",\n        elementInstructions: \"\",\n        environmentInstructions: \"\",\n      }\n    },\n    elementId: parseInt(this.props.match.params.element_id),\n    newComments: {\n      setup:{\n        Equipment: {content: \"\"},\n        Element: {content: \"\"},\n        Environment: {content: \"\"}\n      },\n      takedown:{\n        Equipment: {content: \"\"},\n        Element: {content: \"\"},\n        Environment: {content: \"\"}\n      }\n    },\n    alertMessage: {message: [], type: \"\"},\n    changed: false,\n    setupAttributes: undefined,\n    takedownAttributes: undefined\n  }\n\n  resetTextboxes = (): void => {\n    this.setState({\n      newComments: {\n        setup:{\n          Equipment: {content: \"\"},\n          Element: {content: \"\"},\n          Environment: {content: \"\"}\n        },\n        takedown:{\n          Equipment: {content: \"\"},\n          Element: {content: \"\"},\n          Environment: {content: \"\"}\n        }\n      }\n    });\n  }\n\n  handleChange = (event: React.ChangeEvent<HTMLInputElement>) =>{\n    if ((event.target.attributes as any).type.value === \"number\"){\n      // changing climbs number from takedown\n      const {name, value} = event.target;\n      const climbId = parseInt(event.target.getAttribute('data-climbid'));\n      \n      this.setState((state: State) => {\n        const {takedownAttributes} = state;\n        const climb = takedownAttributes.climbsAttributes.find((c: Climb) => c.id === climbId);\n        climb[name] = parseInt(value);\n        return {takedownAttributes}\n      })\n\n    } else if ((event.target.attributes as any).type.value === \"textarea\") {\n      // changing comment\n      const {name, value} = event.target;\n      const inspection = event.target.getAttribute(\"data-inspection\");\n\n      this.setState(state => {\n        const newComments = state.newComments;\n        newComments[inspection][name].content = value;\n        return Object.assign({}, state, {newComments: newComments})\n      });\n    } else if ((event.target.attributes as any).type.value === \"checkbox\") {\n      //chaning checkbox\n      const {name, checked} = event.target;\n      const inspection = event.target.getAttribute(\"data-inspection\");\n      \n      this.setState((state: State) => {\n        const newAttrs = state[`${inspection}Attributes`];\n        newAttrs.sectionsAttributes.find(s => s.title === name).complete = checked;\n        return Object.assign({}, state, {[`${inspection}Attributes`]: newAttrs})\n      });\n    }\n    this.setState({changed: true, alertMessage: {message: [], type: \"\"}});\n  }\n\n  handleDateChange = (date: Date) => {\n    this.setState({date: date})\n  }\n\n  // intentionally not using an arrow function so children will use the correct \"this\"\n  renderUpdatedBy(users: User[]){\n    if (users.length > 0) {\n      return (\n        <div className=\"updated-by form-group\">\n          <h3>Updated by:</h3>\n          {users.map((user, i) => {\n            return <React.Fragment key={i}>\n              {user.fullname}<br/>\n            </React.Fragment>\n          })}\n        </div>\n      )\n    }\n  }\n\n  gatherDataFromState = () => {\n    const date: Date = this.state.date\n    const formattedDate: string = date.getDate()  + \"/\" + (date.getMonth()+1) + \"/\" + date.getFullYear();\n    const setupAttributes: SetupAttributes = {\n      id: this.state.setupAttributes.id,\n      sectionsAttributes: JSON.parse(JSON.stringify(this.state.setupAttributes.sectionsAttributes))\n    };\n\n    //clean up unneeded user data from comments\n    setupAttributes.sectionsAttributes.forEach((section: Section) => {\n      section.commentsAttributes.forEach((comment: {user: User, content: string}) => {\n        delete comment.user\n      })\n    })\n    \n    // TODO: this line below was let takedownAttributes = null. I might have broken something with this\n    let takedownAttributes: TakedownAttributes;\n    if (this.state.takedownAttributes){\n      const climbsCopy = JSON.parse(JSON.stringify(this.state.takedownAttributes.climbsAttributes));\n      const climbsReduced = climbsCopy.map((climb: Climb) => {\n        delete climb[\"rope\"];\n        return climb;\n      })\n\n      takedownAttributes = {\n        id: this.state.takedownAttributes.id,\n        sectionsAttributes: JSON.parse(JSON.stringify(this.state.takedownAttributes.sectionsAttributes)),\n        climbsAttributes: climbsReduced\n      } // used JSON to deeply copy the state array - lodash is an alternative if I want to import it\n      \n      //clean up unneeded user data from comments\n      takedownAttributes.sectionsAttributes.forEach((section: Section) => {\n        section.commentsAttributes.forEach((comment: {user: User, content: string}) => {\n          delete comment.user\n        })\n      })\n    }\n    \n    const data = {\n      id: this.state.id,\n      date: formattedDate,\n      elementId: this.state.elementId,\n      setupAttributes: setupAttributes,\n      takedownAttributes: takedownAttributes\n    };\n\n    for(const insp in this.state.newComments){\n      if (insp === \"takedown\" && takedownAttributes === null){\n        continue;\n      }\n      for(const sectionTitle in this.state.newComments[insp]){\n        if (data[`${insp}Attributes`]){\n          const section = data[`${insp}Attributes`].sectionsAttributes.find((s: Section) => s.title === sectionTitle);\n\n          section.commentsAttributes.push({\n            id: null,\n            content: this.state.newComments[insp][sectionTitle].content\n          })\n        }\n      }\n    }\n\n    return data;\n  }\n// TODO: figure out the typing of the graphql mutation\n  handleSubmit = (event: React.FormEvent<HTMLFormElement>, savePreuseMutation) => {\n    event.preventDefault();\n    const data = this.gatherDataFromState();\n\n    savePreuseMutation({\n      variables: {data: data}\n    }).then(({data: {savePreuse: {status, errors, preuseInspection}}}: MutationResponse) => {\n      if (status === \"200\"){\n        this.props.history.push(`/preuse_inspections/elements/${this.state.elementId}/edit`);\n        this.setState({\n          ...preuseInspection,\n          alertMessage: {\n            type: \"success\",\n            message: [\"Inspection successfully saved\"]\n          },\n          changed: false\n        }, () => this.resetTextboxes());\n      } else {\n        this.setState({\n          alertMessage: {\n            type: \"\",\n            message: errors\n          }\n        })\n      }\n    })\n  }\n\n  renderAlert = () => {\n    const alerts = this.state.alertMessage;\n    if (Object.keys(alerts).length > 0) {\n      return (\n        <div className={`alert alert-${alerts.type}`}>\n        <ul>\n            {alerts.message.map((msg, i) => <li key={i}>{msg}</li>)}\n          </ul>\n        </div>\n      )\n    }\n  }\n\n  queryCompleted = (resp: QueryResponse) => {\n    if (resp.preuseInspection.id !== null){\n      this.props.history.push(`/preuse_inspections/elements/${resp.id}/edit`);\n      this.setState({\n        alertMessage: {\n          type:\"info\",\n          message:[\"Previous inspection loaded\"]\n        },\n        changed: false\n      });\n    } else {\n      this.props.history.push(`/preuse_inspections/elements/${resp.id}/new`);\n      this.setState({alertMessage: {message: [], type: \"\"}, changed: false});\n    }\n    this.resetTextboxes();\n    this.updateStateFromQuery(resp);\n  }\n\n  updateStateFromQuery = (data: QueryResponse) => {\n    this.setState({\n      id: data.preuseInspection.id,\n      setupAttributes: data.preuseInspection.setupAttributes,\n      takedownAttributes: data.preuseInspection.takedownAttributes,\n      instructions: {\n        setup: {\n          equipmentInstructions: data.setupEquipmentInstructions,\n          elementInstructions: data.setupElementInstructions,\n          environmentInstructions: data.setupEnvironmentInstructions,\n        },\n        takedown: {\n          equipmentInstructions: data.takedownEquipmentInstructions,\n          elementInstructions: data.takedownElementInstructions,\n          environmentInstructions: data.takedownEnvironmentInstructions,\n        }\n      }\n    });\n  }\n\n  render() {\n    return (\n      <Query\n        query={getPreuseInspectionQuery}\n        variables={{\n          elementId: this.state.elementId,\n          date: this.state.date.getDate() + \"/\" + (this.state.date.getMonth()+1) + \"/\" + this.state.date.getFullYear()\n        }}\n        fetchPolicy=\"network-only\"\n        onCompleted={(data: {element: QueryResponse})=> this.queryCompleted(data.element)}\n        onError={(error: any) => console.log(error)}>\n\n        {({loading}: {loading: boolean}) => {\n          if (loading) return null;\n          return <>\n          {this.renderAlert()}\n\n          <div id=\"preuse-inspection-form\">\n            <Mutation mutation={savePreuseMutation}>\n              {(savePreuseMutation) => (\n                <form onSubmit={(e: React.FormEvent<HTMLFormElement>) =>this.handleSubmit(e, savePreuseMutation)} >\n                  <div className=\"form-group\">\n                    <label htmlFor=\"date\">Date</label>\n                    <DatePicker selected={this.state.date} name=\"date\" className=\"form-control-sm\" onChange={this.handleDateChange} />\n                  </div>\n\n                  {this.state.setupAttributes ?\n                    <Setup data={this.state.setupAttributes}\n                      renderUpdatedBy={this.renderUpdatedBy}\n                      handleChange={this.handleChange}\n                      instructions={this.state.instructions.setup}\n                      newComments={this.state.newComments.setup}\n                    /> : null\n                  }\n\n                  {this.state.takedownAttributes ?\n                    <><hr /><Takedown data={this.state.takedownAttributes}\n                      renderUpdatedBy={this.renderUpdatedBy}\n                      handleChange={this.handleChange}\n                      instructions={this.state.instructions.takedown}\n                      newComments={this.state.newComments.takedown}\n                    /></> : null\n                  }\n\n                  <input type=\"submit\" id=\"submit-button\" value={this.state.changed ? \"Submit\": \"No changes yet\"} disabled={!this.state.changed}/>\n                </form>\n              )}\n            </Mutation>\n            </div>\n          </>\n        }}\n      </Query>\n    )\n  }\n}\n\nexport default PreuseForm;","import React, {Component} from 'react';\r\nimport { Switch, Route } from 'react-router-dom';\r\nimport ElementList from '../elementList';\r\nimport PreuseForm from './preuseForm';\r\n\r\nclass PreuseInspectionContainer extends Component {\r\n  render() {\r\n    return (\r\n      <Switch>\r\n        <Route path=\"/preuse_inspections/elements/:element_id/new\"\r\n          component={PreuseForm}\r\n        />\r\n        <Route path=\"/preuse_inspections/elements/:element_id/edit\"\r\n          component={PreuseForm}\r\n        />\r\n        <Route path=\"/preuse_inspections\"\r\n          component={ElementList}\r\n        />\r\n      </Switch>\r\n    )\r\n  }\r\n}\r\n\r\nexport default PreuseInspectionContainer;","import React, {Component} from 'react';\r\nimport '../../stylesheets/periodic_inspections.scss';\r\nimport '../../stylesheets/inspection_forms.scss';\r\nimport Section from '../../components/inspections/section';\r\nimport DatePicker from 'react-datepicker';\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport { Query, Mutation } from 'react-apollo';\r\nimport { getPeriodicInspectionQuery, savePeriodicMutation } from '../../queries/inspections';\r\nimport { RouteComponentProps } from 'react-router';\r\n\r\ninterface State {\r\n  id: number | null,\r\n  date: Date,\r\n  element: {\r\n    elementInstructions: string,\r\n    environmentInstructions: string,\r\n    equipmentInstructions: string\r\n  },\r\n  elementId: number,\r\n  users: User[],\r\n  alertMessage: {message: string[], type: string},\r\n  newComments: {\r\n    Equipment: {content: string},\r\n    Element: {content: string},\r\n    Environment: {content: string}\r\n  },\r\n  changed: boolean,\r\n  sectionsAttributes: Section[]\r\n}\r\n\r\ninterface User {\r\n  fullname: string\r\n}\r\n\r\ninterface Section {\r\n  id: number,\r\n  title: string,\r\n  complete: boolean,\r\n  commentsAttributes: {\r\n    id: number,\r\n    content: string,\r\n    user: {\r\n      fullname: string;\r\n    }\r\n  }[]\r\n}\r\n\r\ninterface NewSection {\r\n  id: number,\r\n  title: string,\r\n  complete: boolean,\r\n  commentsAttributes: {\r\n    id: number | null,\r\n    content: string\r\n  }[]\r\n}\r\n\r\ninterface QueryResponse {\r\n  id: number;\r\n  periodicInspection: {\r\n    id: number,\r\n    users: {fullname: string}[],\r\n    sectionsAttributes: Section[]\r\n  };\r\n  periodicEnvironmentInstructions: string;\r\n  periodicElementInstructions: string;\r\n  periodicEquipmentInstructions: string;\r\n}\r\n\r\ninterface MutationResponse {\r\n  data: {\r\n    savePeriodic: {\r\n      status: string,\r\n      errors: string[],\r\n      periodicInspection: {\r\n        id: number,\r\n        users: User[],\r\n        sectionsAttributes: Section[]\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\ninterface MatchParams {\r\n  element_id: string\r\n}\r\n\r\nclass PeriodicForm extends Component<RouteComponentProps<MatchParams>, State> {\r\n  state = {\r\n    id: null,\r\n    date: new Date(),\r\n    element: {\r\n      elementInstructions: \"\",\r\n      environmentInstructions: \"\",\r\n      equipmentInstructions: \"\"\r\n    },\r\n    elementId: parseInt(this.props.match.params.element_id),\r\n    users: [] as User[],\r\n    alertMessage: {message: [], type: \"\"},\r\n    newComments: {\r\n      Equipment: {content: \"\"},\r\n      Element: {content: \"\"},\r\n      Environment: {content: \"\"}\r\n    },\r\n    changed: false,\r\n    sectionsAttributes: [] as Section[]\r\n  }\r\n\r\n  resetTextboxes = () => {\r\n    this.setState({\r\n      newComments: {\r\n        Equipment: {content: \"\"},\r\n        Element: {content: \"\"},\r\n        Environment: {content: \"\"}\r\n      }\r\n    });\r\n  }\r\n\r\n  handleChange = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    if ((event.target.attributes as any).type.value === \"textarea\") {\r\n      // changing comment\r\n      const {name, value}: {name: string, value: string} = event.target;\r\n\r\n      this.setState((state: State) => {\r\n        const newComments = state.newComments;\r\n        newComments[(name as \"Equipment\" | \"Element\" | \"Environment\")].content = value;\r\n        return Object.assign({}, state, {newComments: newComments})\r\n      });\r\n    } else if ((event.target.attributes as any).type.value === \"checkbox\") {\r\n      //changing checkbox\r\n      const {name, checked}: {name: string, checked: boolean} = event.target;\r\n\r\n      this.setState((state: State) => {\r\n        const section: Section | undefined = state?.sectionsAttributes.find((s: Section) => s.title === name)\r\n        if (section){\r\n          section.complete = checked;\r\n        }\r\n        return state;\r\n      });\r\n    }\r\n    this.setState({changed: true, alertMessage: {message: [], type: \"\"}});\r\n  }\r\n\r\n  handleDateChange = (date: Date) => {\r\n    this.setState({date: date})\r\n  }\r\n\r\n  renderUpdatedBy = () => {\r\n    if (this.state.users.length > 0) {\r\n      return (\r\n        <div className=\"updated-by form-group\">\r\n          <h3>Updated by:</h3>\r\n          {this.state.users.map((user, i) => {\r\n            return <React.Fragment key={i}>\r\n              {user.fullname}<br/>\r\n            </React.Fragment>\r\n          })}\r\n        </div>\r\n      )\r\n    }\r\n  }\r\n\r\n  gatherDataFromState = () => {\r\n    const date = this.state.date\r\n    const formattedDate = date.getDate()  + \"/\" + (date.getMonth()+1) + \"/\" + date.getFullYear();\r\n    const data = {\r\n      id: this.state.id,\r\n      elementId: this.state.elementId,\r\n      date: formattedDate,\r\n      sectionsAttributes: JSON.parse(JSON.stringify(this.state.sectionsAttributes))\r\n    } // used JSON to deeply copy the state array - lodash is an alternative if I want to import it\r\n\r\n    data.sectionsAttributes.forEach((section: NewSection) => {\r\n      // remove user key, since graphql doesn't accept it\r\n      // section.commentsAttributes?.forEach(comment => {\r\n      //   delete comment.user;\r\n      // })\r\n\r\n      // add in new comments\r\n      const matchedComment = this.state.newComments[(section.title as \"Equipment\" | \"Element\" | \"Environment\")];\r\n      section.commentsAttributes?.push({\r\n        id: null,\r\n        content: matchedComment.content\r\n      })\r\n    });\r\n\r\n    return data;\r\n  }\r\n// TODO: figure out typing of the mutation\r\n  handleSubmit = (event: React.FormEvent<HTMLFormElement>, saveInspection: any) => {\r\n    event.preventDefault();\r\n    const data = this.gatherDataFromState();\r\n\r\n    saveInspection({\r\n      variables: {data: data}\r\n    }).then(({data: {savePeriodic: {status, errors, periodicInspection}}}: MutationResponse) => {\r\n      if (status === \"200\"){\r\n        this.props.history.push(`/periodic_inspections/elements/${this.state.elementId}/edit`);\r\n        this.setState({\r\n          id: periodicInspection.id,\r\n          users: periodicInspection.users,\r\n          sectionsAttributes: periodicInspection.sectionsAttributes,\r\n          alertMessage: {\r\n            type: \"success\",\r\n            message: [\"Inspection successfully saved\"]\r\n          },\r\n          changed: false\r\n        }, () => this.resetTextboxes());\r\n      } else {\r\n        this.setState({\r\n          alertMessage: {\r\n            type: \"\",\r\n            message: errors\r\n          }\r\n        })\r\n      }\r\n    });\r\n  }\r\n\r\n  renderAlert = () => {\r\n    const alerts = this.state.alertMessage;\r\n    if (Object.keys(alerts).length > 0) {\r\n      return (\r\n        <div className={`alert alert-${alerts.type}`}>\r\n          <ul>\r\n            {alerts.message.map((msg, i) => <li key={i}>{msg}</li>)}\r\n          </ul>\r\n        </div>\r\n      )\r\n    }\r\n  }\r\n\r\n  renderSections = () => {\r\n    const elementSection = this.state.sectionsAttributes.find((s: {title:string}) => s.title === \"Element\")\r\n    const equipmentSection = this.state.sectionsAttributes.find((s: {title:string}) => s.title === \"Equipment\")\r\n    const environmentSection = this.state.sectionsAttributes.find((s: {title:string}) => s.title === \"Environment\")\r\n    if (elementSection !== undefined &&\r\n        equipmentSection !== undefined &&\r\n        environmentSection !== undefined\r\n      ) {\r\n      return <>\r\n        <Section\r\n          handleChange={this.handleChange}\r\n          instructions={this.state.element.elementInstructions}\r\n          data={elementSection}\r\n          newComment={this.state.newComments.Element.content} />\r\n        <Section\r\n          handleChange={this.handleChange}\r\n          instructions={this.state.element.equipmentInstructions}\r\n          data={equipmentSection}\r\n          newComment={this.state.newComments.Equipment.content} />\r\n        <Section\r\n          handleChange={this.handleChange}\r\n          instructions={this.state.element.environmentInstructions}\r\n          data={environmentSection}\r\n          newComment={this.state.newComments.Environment.content} />\r\n      </>\r\n    }\r\n  }\r\n\r\n  queryCompleted = (resp: QueryResponse) => {\r\n    if (resp.periodicInspection.id !== null){\r\n      this.props.history.push(`/periodic_inspections/elements/${resp.id}/edit`);\r\n      this.setState({\r\n        alertMessage: {type:\"info\", message:[\"Previous inspection loaded\"]},\r\n        changed: false\r\n      });\r\n    } else {\r\n      this.props.history.push(`/periodic_inspections/elements/${resp.id}/new`);\r\n      this.setState({\r\n        id: resp.periodicInspection.id,\r\n        alertMessage: {message: [], type: \"\"},\r\n        changed: false\r\n      });\r\n    }\r\n    this.resetTextboxes();\r\n    this.updateStateFromQuery(resp);\r\n  }\r\n\r\n  updateStateFromQuery = (data: QueryResponse) => {\r\n    this.setState({\r\n      id: data.periodicInspection.id,\r\n      users: data.periodicInspection.users,\r\n      sectionsAttributes: data.periodicInspection.sectionsAttributes,\r\n      element: {\r\n        equipmentInstructions: data.periodicEquipmentInstructions,\r\n        elementInstructions: data.periodicElementInstructions,\r\n        environmentInstructions: data.periodicEnvironmentInstructions,\r\n      }\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Query\r\n        query={getPeriodicInspectionQuery}\r\n        variables={{\r\n          elementId: this.state.elementId,\r\n          date: this.state.date.getDate() + \"/\" + (this.state.date.getMonth()+1) + \"/\" + this.state.date.getFullYear()\r\n        }}\r\n        fetchPolicy=\"network-only\"\r\n        onCompleted={(data: {element: QueryResponse})=> this.queryCompleted(data.element)}\r\n        onError={(error: any) => console.log(error)}>\r\n\r\n        {({loading}: {loading: boolean}) => {\r\n          if (loading) return null;\r\n          return <>\r\n            {this.renderAlert()}\r\n\r\n            <div id=\"periodic-inspection-form\">\r\n              <Mutation mutation={savePeriodicMutation}>\r\n                {(savePeriodic: any) => (\r\n                <form onSubmit={(e: React.FormEvent<HTMLFormElement>) =>this.handleSubmit(e, savePeriodic)} >\r\n                  <div className=\"form-group\">\r\n                    <label htmlFor=\"date\">Date</label>\r\n                    <DatePicker selected={this.state.date} name=\"date\" className=\"form-control-sm\" onChange={this.handleDateChange} />\r\n                  </div>\r\n\r\n                  {this.state.sectionsAttributes ?\r\n                    this.renderSections() : null }\r\n\r\n                  <input type=\"submit\" id=\"submit-button\" value={this.state.changed ? \"Submit\": \"No changes yet\"} disabled={!this.state.changed}/>\r\n\r\n                  {this.renderUpdatedBy()}\r\n                </form>\r\n                )}\r\n              </Mutation>\r\n            </div>\r\n          </>\r\n        }}\r\n      </Query>\r\n    )\r\n  }\r\n}\r\n\r\nexport default PeriodicForm;","import React, {Component} from 'react';\r\nimport { Switch, Route } from 'react-router-dom';\r\nimport ElementList from '../elementList';\r\nimport PeriodicForm from './periodicForm';\r\n\r\nclass PeriodicInspectionContainer extends Component {\r\n  render() {\r\n    return (\r\n      <Switch>\r\n        <Route path=\"/periodic_inspections/elements/:element_id/new\"\r\n          component={PeriodicForm}\r\n        />\r\n        <Route path=\"/periodic_inspections/elements/:element_id/edit\"\r\n          component={PeriodicForm}\r\n        />\r\n        <Route path=\"/periodic_inspections\"\r\n          component={ElementList}\r\n        />\r\n      </Switch>\r\n    )\r\n  }\r\n}\r\n\r\nexport default PeriodicInspectionContainer;","import React from 'react';\r\nimport ReactCSSTransitionGroup from 'react-addons-css-transition-group';\r\nimport \"../stylesheets/header.scss\";\r\nimport { NavLink, withRouter, RouteComponentProps } from 'react-router-dom';\r\n\r\ninterface Props extends RouteComponentProps {\r\n  handleLogout: () => void;\r\n}\r\n\r\nclass Header extends React.Component<Props> {\r\n  state = {\r\n    showAdminTools: false\r\n  }\r\n\r\n  handleHover = (): void => {\r\n    this.setState({showAdminTools: true});\r\n  }\r\n\r\n  handleLeave = (): void => {\r\n    this.setState({showAdminTools: false});\r\n  }\r\n\r\n  adminTools = () => {\r\n    if (this.state.showAdminTools){\r\n      return (\r\n        <div>\r\n\r\n        </div>\r\n      )\r\n    }\r\n    else\r\n      return null\r\n  }\r\n\r\n  render(){\r\n    return(\r\n      <header className=\"header\">\r\n        <div onMouseEnter={this.handleHover} onMouseLeave={this.handleLeave}>\r\n          <NavLink to=\"/admin\" className=\"nav-link\" activeClassName=\"selected\">Admin</NavLink>\r\n          <div className=\"submenu-container\">\r\n            <ReactCSSTransitionGroup\r\n              transitionName=\"slide\"\r\n              transitionEnterTimeout={300}\r\n              transitionLeaveTimeout={300}\r\n            >\r\n              {this.state.showAdminTools && <Submenu />}\r\n            </ReactCSSTransitionGroup>\r\n          </div>\r\n        </div>\r\n        <div>\r\n          <NavLink to=\"/preuse_inspections\" className=\"nav-link\" activeClassName=\"selected\">Preuse Inspections</NavLink>\r\n        </div>\r\n        <div>\r\n          <NavLink to=\"/periodic_inspections\" className=\"nav-link\" activeClassName=\"selected\">Periodic Inspections</NavLink>\r\n        </div>\r\n        <div>\r\n          <NavLink to=\"/elements\" className=\"nav-link\" activeClassName=\"selected\">My Profile (in development)</NavLink>\r\n        </div>\r\n        <div>\r\n          <NavLink to=\"/\" className=\"nav-link\" activeClassName=\"selected\"\r\n          onClick={this.props.handleLogout} >Logout</NavLink>\r\n        </div>\r\n        \r\n        <img src={require(`../images/logo.png`)} alt=\"logo\" />\r\n      </header>\r\n    )\r\n  }\r\n};\r\n\r\nclass Submenu extends React.Component {\r\n  render() {\r\n    return (\r\n      <div className=\"sub-links\">\r\n        <NavLink to=\"/admin/dashboard\">Dashboard</NavLink>\r\n        <NavLink to=\"/admin/elements\">Elements (in development)</NavLink>\r\n        <NavLink to=\"/admin/users\">Users (in development)</NavLink>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withRouter(Header);","import React, { Component } from 'react';\r\nimport \"../stylesheets/global.scss\";\r\nimport { Switch, Route,withRouter, RouteComponentProps } from 'react-router-dom';\r\nimport AdminContainer from './admin';\r\nimport PreuseInspectionContainer from './inspections/preuseInspectionContainer';\r\nimport PeriodicInspectionContainer from './inspections/periodicInspectionContainer';\r\nimport Header from '../components/header';\r\nimport * as images from '../images/index';\r\n\r\ninterface Props extends RouteComponentProps {\r\n  handleLogout: () => void;\r\n}\r\n\r\nclass Home extends Component<Props> {\r\n  state = {\r\n    backgroundImage: \"\"\r\n  }\r\n\r\n  componentDidUpdate(prevProps: Props){\r\n    if (prevProps.location !== this.props.location){\r\n      this.assignBackgroundImage(this.props.location.pathname);\r\n    }\r\n  }\r\n\r\n  assignBackgroundImage(pathname: string){\r\n    switch (true){\r\n      case pathname.includes(\"periodic_inspections\") &&\r\n          (pathname.endsWith('/new') || pathname.endsWith('/edit')):\r\n        this.setState({backgroundImage: `url(${images.periodicForm})`});\r\n        break;\r\n      case pathname.includes(\"preuse_inspections\") &&\r\n          (pathname.endsWith('/new') || pathname.endsWith('/edit')):\r\n          this.setState({backgroundImage: `url(${images.preuseForm})`});\r\n          break;\r\n      case pathname.includes(\"user\"):\r\n          this.setState({backgroundImage: `url(${images.userPage})`});\r\n          break;\r\n      default:\r\n        this.setState({backgroundImage: \"\"})\r\n        break;\r\n    }\r\n  }\r\n\r\n  render(){\r\n    return (\r\n      <div className=\"content\" id=\"logged-in-content\" style={{backgroundImage:this.state.backgroundImage}}>\r\n        <Header handleLogout={this.props.handleLogout} />\r\n\r\n        <div id=\"body\">\r\n          <Switch>\r\n            <Route path=\"/preuse_inspections\"\r\n              component={PreuseInspectionContainer}\r\n            />\r\n            <Route path=\"/periodic_inspections\"\r\n              component={PeriodicInspectionContainer}\r\n            />\r\n            <Route path=\"/admin\"\r\n              component={AdminContainer}\r\n            />\r\n          </Switch>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(Home);\r\n","import React, { Component } from 'react';\r\nimport '../../stylesheets/sessions.scss';\r\nimport { withRouter } from \"react-router\";\r\nimport { History, LocationState } from \"history\";\r\nimport { graphql } from 'react-apollo';\r\nimport compose from 'lodash.flowright';\r\nimport { signInMutation } from '../../queries/queries';\r\n\r\ninterface Props {\r\n  handleLogin: (remember: boolean, token?: string) => void;\r\n  history: History<LocationState>;\r\n  signInMutation: (variables: {variables: {\r\n      email: string,\r\n      password: string\r\n    }}) => any;\r\n}\r\n//TODO replace the any with a Promise\r\n\r\ninterface State {\r\n  email: string;\r\n  password: string;\r\n  errors: string[];\r\n  remember: boolean;\r\n}\r\n\r\nclass Login extends Component<Props, State> {\r\n  constructor(props: Props){\r\n    super(props);\r\n    this.state = {\r\n      email: \"\",\r\n      password: \"\",\r\n      errors: [],\r\n      remember: false\r\n    };\r\n  }\r\n\r\n  handleChange = (e: React.FormEvent<HTMLInputElement>) => {\r\n    const target = e.currentTarget;\r\n    const value: boolean | string = target.type === 'checkbox' ? target.checked : target.value;\r\n    this.setState((prevState: State) => ({\r\n      ...prevState,\r\n      [target.name]: value\r\n    }));\r\n  }\r\n\r\n  handleSignIn = (resp: {signInUser?: {token?: string}}) => {\r\n    if(resp.signInUser === null){\r\n      this.setState({\r\n        email: \"\",\r\n        password: \"\",\r\n        remember: false,\r\n        errors: [\"No User found with that email and password\"]\r\n      });\r\n    } else {\r\n      this.props.handleLogin(this.state.remember, resp.signInUser?.token);\r\n      this.props.history.push('/preuse_inspections');\r\n    }\r\n  }\r\n\r\n  handleErrors = () => {\r\n    return (\r\n      <div className=\"alert alert-danger\">\r\n        <ul>\r\n          {this.state.errors.map(error =>{\r\n            return <li key={error}>{error}</li>\r\n          })}\r\n        </ul>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  handleSubmit = (e: React.FormEvent<HTMLFormElement>) => {\r\n    e.preventDefault();\r\n    this.props.signInMutation({\r\n      variables: {\r\n        email: this.state.email,\r\n        password: this.state.password\r\n      }\r\n    }).then((resp: any) => this.handleSignIn(resp.data))\r\n  }\r\n// TODO fix the 'any' above\r\n  useDemo = () => {\r\n    this.setState({\r\n      email:\"demo@email.com\",\r\n      password:\"demopass\"\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const {email, password, remember} = this.state;\r\n\r\n    return(\r\n      <div className=\"content\" id=\"logged-out-content\">\r\n        {this.state.errors.length > 0 ? this.handleErrors() : null}\r\n\r\n        <div id=\"login-form-div\">\r\n          <h1>Welcome to<br />\r\n          Climb On!v2</h1>\r\n\r\n          <form id=\"login-form\" onSubmit={this.handleSubmit}>\r\n            <div>\r\n              <input\r\n                type=\"button\"\r\n                name=\"demoInfo\"\r\n                onClick={this.useDemo}\r\n                value=\"Fill in Demo User's info\" />\r\n            </div>\r\n            \r\n            <input placeholder=\"email\"\r\n              type=\"email\"\r\n              name=\"email\"\r\n              value={email}\r\n              onChange={this.handleChange} />\r\n\r\n            <input placeholder=\"password\"\r\n              type=\"password\"\r\n              name=\"password\"\r\n              value={password}\r\n              onChange={this.handleChange} />\r\n\r\n            <div>\r\n              <input\r\n                type=\"checkbox\"\r\n                name=\"remember\"\r\n                checked={remember}\r\n                onChange={this.handleChange} />\r\n              <label htmlFor=\"remember\">Remember Me</label>\r\n            </div>\r\n\r\n            <button placeholder=\"submit\" type=\"submit\">\r\n              Log In\r\n            </button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n};\r\n\r\nexport default compose(\r\n  graphql(signInMutation, {name:\"signInMutation\"}),\r\n  withRouter\r\n)(Login);\r\n\r\n","import React, {Component} from 'react';\nimport './stylesheets/global.scss'\nimport Home from './containers/home';\nimport Login from './containers/sessions/login'\nimport { History, LocationState } from \"history\";\nimport { AUTH_TOKEN } from './constants'\n\ninterface Props {\n  history?: History<LocationState>;\n}\n\ninterface State {\n  userToken?: string;\n  loggedIn: boolean;\n}\n\nclass App extends Component<Props, State> {\n  state = {\n    loggedIn: false\n  }\n\n  handleLogin = (remember: boolean = false, token: string = \"\"): void => {\n    this.setState({\n      userToken: token,\n      loggedIn: true\n    });\n\n    if(remember){\n      localStorage.setItem(AUTH_TOKEN, token);\n    }\n  }\n\n  \n  loginStatus = (): void => {\n    // if a user is stored in cookies, load it to state and set logged in to true\n    if (localStorage.getItem(AUTH_TOKEN) !== null){\n      this.handleLogin(true, localStorage.getItem(AUTH_TOKEN) || \"\");\n    } else {\n    // otherwise, ensure that the store is cleared of user data\n      this.handleLogout();\n    }\n  }\n  \n  handleLogout = (): void => {\n    this.setState({\n      userToken: \"\",\n      loggedIn: false\n    });\n    // TODO: send mutation to server to sign out\n    localStorage.removeItem(AUTH_TOKEN);\n    this.props.history?.push('/');\n  }\n\n  componentDidMount() {\n    this.loginStatus();\n  }\n\n  render() {\n    if (this.state.loggedIn) {\n      return (\n        <Home handleLogout={this.handleLogout} />\n      );\n    } else {\n      return (\n        <Login handleLogin={this.handleLogin} />\n      );\n    }\n  }\n}\n\nexport default App;\n","export const AUTH_TOKEN = 'auth-token';\r\n// TODO: make this more secure","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport { ApolloClient } from 'apollo-client';\nimport { ApolloProvider } from 'react-apollo';\nimport { createHttpLink } from 'apollo-link-http';\nimport { InMemoryCache } from 'apollo-cache-inmemory';\nimport {BrowserRouter as Router} from 'react-router-dom';\n\nconst link = createHttpLink({\n  uri: 'http://localhost:3001/graphql',\n  credentials: 'include'\n});\n\nconst client = new ApolloClient({\n  cache: new InMemoryCache({\n    addTypename: false\n  }),\n  link: link\n});\n\nReactDOM.render(\n  <ApolloProvider client={client}>\n    <Router>\n      <App />\n    </Router>\n  </ApolloProvider>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","var map = {\n\t\"./Catwalk.png\": 108,\n\t\"./GiantsLadder.png\": 109,\n\t\"./Zipline.png\": 110,\n\t\"./complete.png\": 111,\n\t\"./incomplete.png\": 112,\n\t\"./logo.png\": 78,\n\t\"./not started.png\": 113\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 62;","module.exports = __webpack_public_path__ + \"static/media/logo.f58d4d5b.png\";","module.exports = __webpack_public_path__ + \"static/media/AlutianMaidenhairFern.81b91081.JPG\";","module.exports = __webpack_public_path__ + \"static/media/HappyCreek.ef459d16.JPG\";","module.exports = __webpack_public_path__ + \"static/media/ThunderCreek.19c0104d.JPG\";"],"sourceRoot":""}