(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{118:function(e,t,n){},120:function(e,t,n){},124:function(e,t,n){e.exports=n.p+"static/media/Catwalk.3f9c851c.png"},125:function(e,t,n){e.exports=n.p+"static/media/GiantsLadder.7201212a.png"},126:function(e,t,n){e.exports=n.p+"static/media/Zipline.9ad18af5.png"},127:function(e,t,n){e.exports=n.p+"static/media/complete.4ffd2994.png"},128:function(e,t,n){e.exports=n.p+"static/media/incomplete.534ae346.png"},129:function(e,t){e.exports="data:image/png;base64,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"},186:function(e,t,n){},188:function(e,t,n){},191:function(e,t,n){},204:function(e,t,n){},206:function(e,t,n){},208:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(26),c=n.n(s),o=n(11),i=n(4),l=n(5),u=n(7),m=n(6),d=n(8),p=n(13),h=(n(65),n(27)),g=n(15),A=n.n(g),b=(n(118),n(120),n(86)),E=n.n(b),f=(n(122),function(e){function t(){var e,a;Object(i.a)(this,t);for(var s=arguments.length,c=new Array(s),l=0;l<s;l++)c[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(c)))).state={elements:[],lastUpdated:Date.now(),date:new Date},a.updateState=function(){a.setState({lastUpdated:"..."}),A.a.get("/api/v1/sites/".concat(a.props.currentUser.site_id,"/status/").concat(a.state.date)).then(function(e){return a.setState({elements:e.data,lastUpdated:new Date(Date.now()).toLocaleTimeString("es-US",{hour:"numeric",minute:"numeric"})})}).catch(function(e){return console.log(e)})},a.setDate=function(e){a.setState({date:e},function(){a.updateState()})},a.renderInspectionTable=function(){if(Object.keys(a.state.elements).length>0)return Object.keys(a.state.elements).map(function(e,t){var s=a.state.elements[e];return r.a.createElement("div",{className:"table-row",key:t},r.a.createElement("div",{className:"td"},e),r.a.createElement("div",{className:"td"},r.a.createElement("img",{src:n(50)("./".concat(s.setup,".png")),className:"statusIcon",alt:s.setup})),r.a.createElement("div",{className:"td"},r.a.createElement("img",{src:n(50)("./".concat(s.takedown,".png")),className:"statusIcon",alt:s.takedown})),r.a.createElement("div",{className:"td"},r.a.createElement(o.c,{to:"/admin/elements/".concat(s.id)},"View Element")))})},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.updateState(),setInterval(this.updateState,6e4)}},{key:"componentWillUnmount",value:function(){clearInterval()}},{key:"render",value:function(){return r.a.createElement("div",{className:"dashboard"},r.a.createElement(E.a,{selected:this.state.date,onChange:this.setDate}),r.a.createElement("div",{className:"table"},r.a.createElement("div",{className:"table-head"},r.a.createElement("div",{className:"th"},"Element"),r.a.createElement("div",{className:"th"},"Setup"),r.a.createElement("div",{className:"th"},"Takedown"),r.a.createElement("div",{className:"th"})),r.a.createElement("div",{className:"table-body"},this.renderInspectionTable())),"Last updated: ",this.state.lastUpdated)}}]),t}(a.Component)),v=Object(p.b)(function(e){return{currentUser:e.currentUser}})(f),C=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(h.c,null,r.a.createElement(h.a,{path:"/admin/dashboard",component:v}),r.a.createElement(h.a,{path:"/admin/elements",component:v}),r.a.createElement(h.a,{path:"/admin/users",component:v}))}}]),t}(a.Component),w=(n(186),Object(h.f)(function(e){var t=e.data,a=t.name,s=t.id,c=e.location;return r.a.createElement(o.b,{to:c.pathname+"/elements/".concat(s,"/new"),style:{textDecoration:"none"}},r.a.createElement("div",{className:"element-card"},r.a.createElement("h1",null,a),r.a.createElement("img",{src:n(50)("./".concat(a.replace(/[^0-9a-z]/gi,""),".png")),alt:"".concat(a)})))})),y=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(n=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).renderElements=function(){return n.props.elements.map(function(e){return r.a.createElement(w,{data:e,key:e.id,location:n.props.location})})},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"elements",id:"elements-list"},this.renderElements())}}]),t}(a.Component),B=Object(p.b)(function(e){return{currentUser:e.currentUser,elements:e.site.elements}})(y),O=n(32),k=(n(188),n(79),function(e){var t,n=e.data,a=n.id,s=n.title,c=n.complete,o=n.comments_attributes,i=e.newComment,l=e.instructions,u=e.handleChange,m=e.inspection;return r.a.createElement("div",{className:"form-group ".concat(c?"complete":"incomplete"),id:"section-".concat(a)},r.a.createElement("h2",null,s),r.a.createElement("div",{className:"collapsible ".concat(c?"hidden":"")},r.a.createElement("div",{className:"instructions-text"},r.a.createElement("ul",null,l.split("\n").map(function(e){return r.a.createElement("li",null,e)})))),r.a.createElement("div",{className:"form-check completed-group"},r.a.createElement("label",{className:"toggleButton"},r.a.createElement("input",{type:"checkbox",checked:c,onChange:u,name:s,inspection:m}),r.a.createElement("div",null,r.a.createElement("svg",{viewBox:"0 0 44 44"},r.a.createElement("path",{d:"M14,24 L21,31 L39.7428882,11.5937758 C35.2809627,6.53125861 30.0333333,4 24,4 C12.95,4 4,12.95 4,24 C4,35.05 12.95,44 24,44 C35.05,44 44,35.05 44,24 C44,19.3 42.5809627,15.1645919 39.7428882,11.5937758",transform:"translate(-2.000000, -2.000000)"})))),r.a.createElement("label",{htmlFor:s,className:"collapsible ".concat(c?"hidden":"")},"Section Completed?")),(t=o.sort(function(e,t){return e.id-t.id}),r.a.createElement("div",{className:"comments collapsible \n          ".concat(c&&0===t.length&&""===i?"hidden":"")},r.a.createElement("h3",null,"Comments:"),t.map(function(e,t){return r.a.createElement("div",{className:"comment",key:t},r.a.createElement("strong",null,e.user.fullname,": "),e.content)}),r.a.createElement("input",{type:"textarea",name:s,value:i,onChange:u,inspection:m,className:"collapsible ".concat(c&&""===i?"hidden":""),placeholder:"New comment"}))))}),I=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(n=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).renderSections=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(k,Object.assign({},n.props,{instructions:n.props.element.element_instructions,data:n.props.data.sections_attributes.find(function(e){return"Element"===e.title}),handleChange:n.props.handleChange,newComment:n.props.newComments.Element.content,inspection:"setup"})),r.a.createElement(k,Object.assign({},n.props,{instructions:n.props.element.equipment_instructions,data:n.props.data.sections_attributes.find(function(e){return"Equipment"===e.title}),handleChange:n.props.handleChange,newComment:n.props.newComments.Equipment.content,inspection:"setup"})),r.a.createElement(k,Object.assign({},n.props,{instructions:n.props.element.environment_instructions,data:n.props.data.sections_attributes.find(function(e){return"Environment"===e.title}),handleChange:n.props.handleChange,newComment:n.props.newComments.Environment.content,inspection:"setup"})))},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{id:"setup-form"},r.a.createElement("h1",null,"Setup"),this.renderSections(),this.props.renderUpdatedBy())}}]),t}(a.Component),j=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(n=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).renderSections=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(k,Object.assign({},n.props,{instructions:n.props.element.element_instructions,data:n.props.data.sections_attributes.find(function(e){return"Element"===e.title}),handleChange:n.props.handleChange,newComment:n.props.newComments.Element.content,inspection:"takedown"})),r.a.createElement(k,Object.assign({},n.props,{instructions:n.props.element.equipment_instructions,data:n.props.data.sections_attributes.find(function(e){return"Equipment"===e.title}),handleChange:n.props.handleChange,newComment:n.props.newComments.Equipment.content,inspection:"takedown"})),r.a.createElement(k,Object.assign({},n.props,{instructions:n.props.element.environment_instructions,data:n.props.data.sections_attributes.find(function(e){return"Environment"===e.title}),handleChange:n.props.handleChange,newComment:n.props.newComments.Environment.content,inspection:"takedown"})))},n.renderClimbs=function(){return r.a.createElement("div",{className:"climb-blocks form-group"},r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Rope"),r.a.createElement("th",null,"Block 1"),r.a.createElement("th",null,"Block 2"),r.a.createElement("th",null,"Block 3"),r.a.createElement("th",null,"Block 4"))),r.a.createElement("tbody",null,n.props.data.ropes_attributes.map(function(e,t){var a=e.climbs_attributes[0];return r.a.createElement("tr",{key:t},r.a.createElement("td",null,e.identifier),r.a.createElement("td",null,r.a.createElement("input",{type:"number",value:a.block_1?a.block_1:"",name:"block_1","rope-id":e.id,onChange:n.props.handleChange})),r.a.createElement("td",null,r.a.createElement("input",{type:"number",value:a.block_2?a.block_2:"",name:"block_2","rope-id":e.id,onChange:n.props.handleChange})),r.a.createElement("td",null,r.a.createElement("input",{type:"number",value:a.block_3?a.block_3:"",name:"block_3","rope-id":e.id,onChange:n.props.handleChange})),r.a.createElement("td",null,r.a.createElement("input",{type:"number",value:a.block_4?a.block_4:"",name:"block_4","rope-id":e.id,onChange:n.props.handleChange})))}))))},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{id:"takedown-form"},r.a.createElement("h1",null,"Takedown"),this.renderClimbs(),this.renderSections(),this.props.renderUpdatedBy())}}]),t}(a.Component),S=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(n=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).state={date:new Date,element:{},id:null,newComments:{setup:{Equipment:{content:""},Element:{content:""},Environment:{content:""}},takedown:{Equipment:{content:""},Element:{content:""},Environment:{content:""}}},alert_message:[]},n.resetTextboxes=function(){n.setState({newComments:{setup:{Equipment:{content:""},Element:{content:""},Environment:{content:""}},takedown:{Equipment:{content:""},Element:{content:""},Environment:{content:""}}}})},n.handleChange=function(e){if("number"===e.target.attributes.type.value){var t=e.target,a=t.name,r=t.value,s=parseInt(e.target.getAttribute("rope-id"));n.setState(function(e){var t=e.takedown_attributes;return t.ropes_attributes.find(function(e){return e.id===s}).climbs_attributes[0][a]=parseInt(r),{takedown_attributes:t}},function(){return console.log(n.state)})}else if("textarea"===e.target.attributes.type.value){var c=e.target,o=c.name,i=c.value,l=e.target.getAttribute("inspection");n.setState(function(e){var t=e.newComments;return t[l][o].content=i,Object.assign({},e,{newComments:t})})}else if("checkbox"===e.target.attributes.type.value){var u=e.target,m=u.name,d=u.checked,p=e.target.getAttribute("inspection");n.setState(function(e){var t=e["".concat(p,"_attributes")];return t.sections_attributes.find(function(e){return e.title===m}).complete=d,Object.assign({},e,Object(O.a)({},"".concat(p,"_attributes"),t))})}document.getElementById("submit-button").disabled=!1,document.getElementById("submit-button").value="Submit"},n.checkDateForInspection=function(e){var t=n.props.match.params.element_id;A.a.get("/api/v1/elements/".concat(t,"/preuse_inspections/date/").concat(e)).then(function(e){null!==e.data.id?(n.props.history.push("/preuse_inspections/elements/".concat(t,"/edit")),n.setState({alert_message:[{type:"info",message:"Previous inspection loaded"}]})):(n.props.history.push("/preuse_inspections/elements/".concat(t,"/new")),n.setState({alert_message:[]})),n.setState(e.data),n.resetTextboxes()}),document.getElementById("submit-button").value="No Changes Yet",document.getElementById("submit-button").disabled=!0},n.gatherDataFromState=function(){var e={id:n.state.id,date:n.state.date,setup_attributes:n.state.setup_attributes,takedown_attributes:n.state.takedown_attributes,current_user:n.props.currentUser};for(var t in n.state.newComments){var a=function(a){e["".concat(t,"_attributes")]&&e["".concat(t,"_attributes")].sections_attributes.find(function(e){return e.title===a}).comments_attributes.push({id:null,content:n.state.newComments[t][a].content,user_id:e.current_user.id})};for(var r in n.state.newComments[t])a(r)}return e},n.handleSubmit=function(e){e.preventDefault();var t=n.state.element.id,a=n.gatherDataFromState();if(n.state.id){var r="/api/v1/elements/".concat(t,"/preuse_inspections/").concat(n.state.id);A.a.patch(r,{preuse_inspection:a,user_id:n.props.currentUser.id}).then(function(e){200===e.status?(n.setState(e.data),n.resetTextboxes(),n.setState({alert_message:[{type:"success",message:"Inspection successfully updated"}]})):n.handleErrors(e.errors)})}else{var s="/api/v1/elements/".concat(t,"/preuse_inspections/");A.a.post(s,{preuse_inspection:a,user_id:n.props.currentUser.id}).then(function(e){200===e.status?(n.setState(e.data),n.resetTextboxes(),n.setState({alert_message:[{type:"success",message:"Inspection successfully logged"}]}),n.props.history.push("/preuse_inspections/elements/".concat(t,"/edit"))):n.handleErrors(e.errors)})}document.getElementById("submit-button").value="No Changes Yet",document.getElementById("submit-button").disabled=!0},n.renderAlert=function(){if(n.state.alert_message.length>0){var e=n.state.alert_message[0];return r.a.createElement("div",{className:"alert alert-".concat(e.type)},r.a.createElement("ul",null,r.a.createElement("li",null,e.message)))}},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.checkDateForInspection(this.state.date)}},{key:"renderUpdatedBy",value:function(){if("undefined"!==typeof this.data&&this.data.users.length>0)return r.a.createElement("div",{className:"updated-by form-group"},r.a.createElement("h3",null,"Updated by:"),this.data.users.map(function(e,t){return r.a.createElement(r.a.Fragment,{key:t},e.fullname,r.a.createElement("br",null))}))}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,this.renderAlert(),r.a.createElement("div",{id:"preuse-inspection-form"},r.a.createElement("form",{onSubmit:this.handleSubmit.bind(this)},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"date"},"Date"),r.a.createElement("input",{type:"date",name:"date",className:"form-control-sm",value:this.state.date,onChange:function(t){return e.checkDateForInspection(t.target.value)},required:!0})),this.state.setup_attributes?r.a.createElement(I,{data:this.state.setup_attributes,renderUpdatedBy:this.renderUpdatedBy,handleChange:this.handleChange,element:this.state.element,newComments:this.state.newComments.setup}):null,this.state.takedown_attributes?r.a.createElement(r.a.Fragment,null,r.a.createElement("hr",null),r.a.createElement(j,{data:this.state.takedown_attributes,renderUpdatedBy:this.renderUpdatedBy,handleChange:this.handleChange,element:this.state.element,newComments:this.state.newComments.takedown})):null,r.a.createElement("input",{type:"submit",id:"submit-button"}))))}}]),t}(a.Component),D=Object(p.b)(function(e){return{currentUser:e.currentUser}})(S),N=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(h.c,null,r.a.createElement(h.a,{path:"/preuse_inspections/elements/:element_id/new",component:D}),r.a.createElement(h.a,{path:"/preuse_inspections/elements/:element_id/edit",component:D}),r.a.createElement(h.a,{path:"/preuse_inspections",component:B}))}}]),t}(a.Component),J=(n(191),function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(n=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).state={date:new Date,element:{},id:null,users:[],alert_message:[],newComments:{Equipment:{content:""},Element:{content:""},Environment:{content:""}}},n.resetTextboxes=function(){n.setState({newComments:{Equipment:{content:""},Element:{content:""},Environment:{content:""}}})},n.handleChange=function(e){if("textarea"===e.target.attributes.type.value){var t=e.target,a=t.name,r=t.value;n.setState(function(e){var t=e.newComments;return t[a].content=r,Object.assign({},e,{newComments:t})})}else if("checkbox"===e.target.attributes.type.value){var s=e.target,c=s.name,o=s.checked;n.setState(function(e){return e.sections_attributes.find(function(e){return e.title===c}).complete=o})}document.getElementById("submit-button").disabled=!1,document.getElementById("submit-button").value="Submit"},n.checkDateForInspection=function(e){var t=n.props.match.params.element_id;A.a.get("/api/v1/elements/".concat(t,"/periodic_inspections/date/").concat(e)).then(function(e){null!==e.data.id?(n.props.history.push("/periodic_inspections/elements/".concat(t,"/edit")),n.setState({alert_message:[{type:"info",message:"Previous inspection loaded"}]})):(n.props.history.push("/periodic_inspections/elements/".concat(t,"/new")),n.setState({alert_message:[]})),n.setState(e.data),n.resetTextboxes()})},n.renderUpdatedBy=function(){if(n.state.users.length>0)return r.a.createElement("div",{className:"updated-by form-group"},r.a.createElement("h3",null,"Updated by:"),n.state.users.map(function(e,t){return r.a.createElement(r.a.Fragment,{key:t},e.fullname,r.a.createElement("br",null))}))},n.handleErrors=function(e){console.log(e)},n.gatherDataFromState=function(){var e={id:n.state.id,date:n.state.date,sections_attributes:n.state.sections_attributes,current_user:n.props.currentUser};return e.sections_attributes.forEach(function(t){var a=n.state.newComments[t.title];t.comments_attributes.push({id:null,content:a.content,user_id:e.current_user.id})}),e},n.handleSubmit=function(e){e.preventDefault();var t=n.state.element.id,a=n.gatherDataFromState();if(n.state.id){var r="/api/v1/elements/".concat(t,"/periodic_inspections/").concat(n.state.id);A.a.patch(r,{periodic_inspection:a,user_id:n.props.currentUser.id}).then(function(e){200===e.status?(n.setState(e.data),n.resetTextboxes(),n.setState({alert_message:[{type:"success",message:"Inspection successfully updated"}]})):n.handleErrors(e.errors)})}else{var s="/api/v1/elements/".concat(t,"/periodic_inspections/");A.a.post(s,{periodic_inspection:a,user_id:n.props.currentUser.id}).then(function(e){200===e.status?(n.setState(e.data),n.resetTextboxes(),n.setState({alert_message:[{type:"success",message:"Inspection successfully logged"}]}),n.props.history.push("/periodic_inspections/elements/".concat(t,"/edit"))):n.handleErrors(e.errors)})}},n.renderAlert=function(){if(n.state.alert_message.length>0){var e=n.state.alert_message[0];return r.a.createElement("div",{className:"alert alert-".concat(e.type)},r.a.createElement("ul",null,r.a.createElement("li",null,e.message)))}},n.renderSections=function(){if(n.state.sections_attributes.length>0)return r.a.createElement(r.a.Fragment,null,r.a.createElement(k,{handleChange:n.handleChange,instructions:n.state.element.element_instructions,data:n.state.sections_attributes.find(function(e){return"Element"===e.title}),newComment:n.state.newComments.Element.content}),r.a.createElement(k,{handleChange:n.handleChange,instructions:n.state.element.equipment_instructions,data:n.state.sections_attributes.find(function(e){return"Equipment"===e.title}),newComment:n.state.newComments.Equipment.content}),r.a.createElement(k,{handleChange:n.handleChange,instructions:n.state.element.environment_instructions,data:n.state.sections_attributes.find(function(e){return"Environment"===e.title}),newComment:n.state.newComments.Environment.content}))},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.checkDateForInspection(this.state.date)}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,this.renderAlert(),r.a.createElement("div",{id:"periodic-inspection-form"},r.a.createElement("form",{onSubmit:this.handleSubmit.bind(this)},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"date"},"Date"),r.a.createElement("input",{type:"date",name:"date",className:"form-control-sm",value:this.state.date,onChange:function(t){return e.checkDateForInspection(t.target.value)},required:!0})),this.state.sections_attributes?this.renderSections():null,r.a.createElement("input",{type:"submit",id:"submit-button"}),this.renderUpdatedBy())))}}]),t}(a.Component)),U=Object(p.b)(function(e){return{currentUser:e.currentUser}})(J),_=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(h.c,null,r.a.createElement(h.a,{path:"/periodic_inspections/elements/:element_id/new",component:U}),r.a.createElement(h.a,{path:"/periodic_inspections/elements/:element_id/edit",component:U}),r.a.createElement(h.a,{path:"/periodic_inspections",component:B}))}}]),t}(a.Component),L=n(90),T=n.n(L),x=(n(204),function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(n=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).state={showAdminTools:!1},n.handleHover=function(){n.setState({showAdminTools:!0})},n.handleLeave=function(){n.setState({showAdminTools:!1})},n.adminTools=function(){return n.state.showAdminTools?r.a.createElement("div",null):null},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("header",{className:"header"},r.a.createElement("div",{onMouseEnter:this.handleHover,onMouseLeave:this.handleLeave},r.a.createElement(o.c,{to:"/admin",className:"nav-link",activeClassName:"selected"},"Admin"),r.a.createElement("div",{className:"submenu-container"},r.a.createElement(T.a,{transitionName:"slide",transitionEnterTimeout:300,transitionLeaveTimeout:300},this.state.showAdminTools&&r.a.createElement(F,null)))),r.a.createElement("div",null,r.a.createElement(o.c,{to:"/preuse_inspections",className:"nav-link",activeClassName:"selected"},"Preuse Inspections")),r.a.createElement("div",null,r.a.createElement(o.c,{to:"/periodic_inspections",className:"nav-link",activeClassName:"selected"},"Periodic Inspections")),r.a.createElement("div",null,r.a.createElement(o.c,{to:"/elements",className:"nav-link",activeClassName:"selected"},"My Profile (broken)")),r.a.createElement("div",null,r.a.createElement(o.c,{to:"/logout",className:"nav-link",activeClassName:"selected",onClick:this.props.handleLogout},"Logout")),r.a.createElement("img",{src:n(74),alt:"logo"}))}}]),t}(r.a.Component)),F=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"sub-links"},r.a.createElement(o.c,{to:"/admin/dashboard"},"Dashboard"),r.a.createElement(o.c,{to:"/admin/elements"},"Elements"),r.a.createElement(o.c,{to:"/admin/users"},"Users"))}}]),t}(r.a.Component),q=Object(h.f)(x),Q=n(82),G=n.n(Q),V=n(83),Y=n.n(V),H=n(84),X=n.n(H),P=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={backgroundImage:""},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;A.a.get("/api/v1/sites/".concat(this.props.currentUser.site_id)).then(function(t){return e.props.setSite(t.data)}).catch(function(e){return console.log(e)})}},{key:"componentDidUpdate",value:function(e){e.location!==this.props.location&&this.assignBackgroundImage(this.props.location)}},{key:"assignBackgroundImage",value:function(e){var t=e.pathname;switch(!0){case t.includes("periodic_inspections")&&(t.endsWith("/new")||t.endsWith("/edit")):this.setState({backgroundImage:"url(".concat(G.a,")")});break;case t.includes("preuse_inspections")&&(t.endsWith("/new")||t.endsWith("/edit")):this.setState({backgroundImage:"url(".concat(Y.a,")")});break;case t.includes("user"):this.setState({backgroundImage:"url(".concat(X.a,")")});break;default:this.setState({backgroundImage:""})}}},{key:"render",value:function(){return r.a.createElement("div",{className:"content",id:"logged-in-content",style:{backgroundImage:this.state.backgroundImage}},r.a.createElement(q,{handleLogout:this.props.handleLogout}),r.a.createElement("div",{id:"body"},r.a.createElement(h.c,null,r.a.createElement(h.a,{path:"/preuse_inspections",component:N}),r.a.createElement(h.a,{path:"/periodic_inspections",component:_}),r.a.createElement(h.a,{path:"/admin",component:C}))))}}]),t}(a.Component),R=Object(h.f)(Object(p.b)(function(e){return{currentUser:e.currentUser}},function(e){return{setSite:function(t){return e({type:"SET_SITE",payload:t})}}})(P)),W=(n(206),function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(u.a)(this,Object(m.a)(t).call(this,e))).handleChange=function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value;n.setState(Object(O.a)({},t.name,a))},n.handleSubmit=function(e){e.preventDefault();var t=n.state,a=t.email,r=t.password,s=t.remember,c={email:a,password:r};A.a.post("/login",{user:c},{withCredentials:!1}).then(function(e){401===e.data.status?n.setState({email:"",password:"",remember:!1,errors:e.data.errors}):(n.props.handleLogin(e.data,s),n.props.history.push("/preuse_inspections"))}).catch(function(e){return console.log("api error:",e)})},n.handleErrors=function(){return r.a.createElement("div",{className:"alert alert-danger"},r.a.createElement("ul",null,n.state.errors.map(function(e){return r.a.createElement("li",{key:e},e)})))},n.state={email:"",password:"",errors:"",remember:!1},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state,t=e.email,n=e.password,a=e.remember;return r.a.createElement("div",{className:"content",id:"logged-out-content"},this.state.errors?this.handleErrors():null,r.a.createElement("div",{id:"login-form-div"},r.a.createElement("h1",null,"Welcome to",r.a.createElement("br",null),"Climb On!"),r.a.createElement("form",{onSubmit:this.handleSubmit,id:"login-form"},r.a.createElement("input",{placeholder:"email",type:"email",name:"email",value:t,onChange:this.handleChange}),r.a.createElement("input",{placeholder:"password",type:"password",name:"password",value:n,onChange:this.handleChange}),r.a.createElement("div",null,r.a.createElement("input",{type:"checkbox",name:"remember",checked:a,onChange:this.handleChange}),r.a.createElement("label",{htmlFor:"remember"},"Remember Me")),r.a.createElement("button",{placeholder:"submit",type:"submit"},"Log In"))))}}]),t}(a.Component)),Z=Object(h.f)(W),z=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).handleLogin=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];n.props.login(e),t&&localStorage.setItem("currentUser",JSON.stringify(e))},n.handleLogout=function(){n.props.logout(),localStorage.removeItem("currentUser"),n.props.history.push("/")},n.loginStatus=function(){null!==localStorage.getItem("currentUser")?n.props.login(JSON.parse(localStorage.getItem("currentUser"))):n.handleLogout()},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.loginStatus()}},{key:"render",value:function(){return this.props.loggedIn?r.a.createElement(R,{handleLogout:this.handleLogout}):r.a.createElement(Z,{handleLogin:this.handleLogin})}}]),t}(a.Component),K=Object(h.f)(Object(p.b)(function(e){return{loggedIn:e.loggedIn,currentUser:e.currentUser}},function(e){return{login:function(t){return e({type:"LOGIN",payload:t})},logout:function(){return e({type:"LOGOUT"})}}})(z));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var M=n(38),$=n(48),ee={site:{elements:[],site_contact:{}},loggedIn:!1,currentUser:{}};var te=Object(M.b)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_SITE":return Object($.a)({},e,{site:t.payload});case"LOGIN":return Object($.a)({},e,{loggedIn:!0,currentUser:t.payload});case"LOGOUT":return Object($.a)({},e,{loggedIn:!1,currentUser:{}});default:return e}},{},window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());c.a.render(r.a.createElement(p.a,{store:te},r.a.createElement(o.a,null,r.a.createElement(K,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},50:function(e,t,n){var a={"./Catwalk.png":124,"./GiantsLadder.png":125,"./Zipline.png":126,"./complete.png":127,"./incomplete.png":128,"./logo.png":74,"./not started.png":129};function r(e){var t=s(e);return n(t)}function s(e){var t=a[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}r.keys=function(){return Object.keys(a)},r.resolve=s,e.exports=r,r.id=50},65:function(e,t,n){},74:function(e,t,n){e.exports=n.p+"static/media/logo.f58d4d5b.png"},79:function(e,t,n){},82:function(e,t,n){e.exports=n.p+"static/media/AlutianMaidenhairFern.81b91081.JPG"},83:function(e,t,n){e.exports=n.p+"static/media/HappyCreek.ef459d16.JPG"},84:function(e,t,n){e.exports=n.p+"static/media/ThunderCreek.19c0104d.JPG"},91:function(e,t,n){e.exports=n(208)}},[[91,2,1]]]);
//# sourceMappingURL=main.31c8dd20.chunk.js.map